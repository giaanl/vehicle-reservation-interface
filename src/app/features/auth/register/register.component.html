<app-auth-container>
  <form [formGroup]="registerForm" (ngSubmit)="onSubmit()" class="auth-form">
    <input
      type="text"
      formControlName="name"
      placeholder="Nome completo"
      [class.error]="name?.invalid && name?.touched"
    />
    <span *ngIf="name?.invalid && name?.touched" class="error-message">
      {{ getErrorMessage("name") }}
    </span>

    <input
      type="email"
      formControlName="email"
      placeholder="Email"
      [class.error]="email?.invalid && email?.touched"
    />
    <span *ngIf="email?.invalid && email?.touched" class="error-message">
      {{ getErrorMessage("email") }}
    </span>

    <input
      type="password"
      formControlName="password"
      placeholder="Senha"
      [class.error]="password?.invalid && password?.touched"
    />
    <span *ngIf="password?.invalid && password?.touched" class="error-message">
      {{ getErrorMessage("password") }}
    </span>

    <input
      type="password"
      formControlName="confirmPassword"
      placeholder="Confirmar senha"
      [class.error]="
        (confirmPassword?.invalid && confirmPassword?.touched) ||
        (registerForm.hasError('passwordMismatch') && confirmPassword?.touched)
      "
    />
    <span
      *ngIf="
        (confirmPassword?.invalid && confirmPassword?.touched) ||
        (registerForm.hasError('passwordMismatch') && confirmPassword?.touched)
      "
      class="error-message"
    >
      {{ getErrorMessage("confirmPassword") }}
    </span>

    <div *ngIf="errorMessage" class="server-error">
      {{ errorMessage }}
    </div>

    <button type="submit" class="auth-btn-submit">Criar conta</button>
  </form>

  <div class="auth-footer">
    <p>
      JÃ¡ tem uma conta?
      <a routerLink="/auth/login">Fazer login</a>
    </p>
  </div>
</app-auth-container>
