<div class="filter-modal" [class.show]="show">
  <div class="filter-overlay" (click)="onClose()"></div>
  <div class="filter-content">
    <div class="filter-header">
      <div class="header-left">
        <svg
          class="search-icon-modal"
          xmlns="http://www.w3.org/2000/svg"
          fill="none"
          viewBox="0 0 24 24"
          stroke="currentColor"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
          />
        </svg>
        <h2>Filtros de Busca</h2>
      </div>
      <button class="close-btn" (click)="onClose()">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          fill="none"
          viewBox="0 0 24 24"
          stroke="currentColor"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M6 18L18 6M6 6l12 12"
          />
        </svg>
      </button>
    </div>

    <div class="filter-actions">
      <button class="filter-action-btn" (click)="onClear()">Limpar</button>
    </div>

    <div class="filter-sections">
      <div class="filter-section">
        <div class="filter-section-header" (click)="toggleSection('types')">
          <h3>Tipos de carrocerias</h3>
          <svg
            xmlns="http://www.w3.org/2000/svg"
            fill="none"
            viewBox="0 0 24 24"
            stroke="currentColor"
            [class.rotated]="expandedSections.types"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M9 5l7 7-7 7"
            />
          </svg>
        </div>
        <div class="filter-options" *ngIf="expandedSections.types">
          <div class="filter-grid">
            <label
              class="filter-checkbox"
              *ngFor="let option of typeOptions"
            >
              <input type="checkbox" [(ngModel)]="filters.types[option.key]" />
              <span>{{ option.label }}</span>
            </label>
          </div>
        </div>
      </div>

      <div class="filter-section">
        <div
          class="filter-section-header"
          (click)="toggleSection('engine')"
        >
          <h3>Tipos de motores</h3>
          <svg
            xmlns="http://www.w3.org/2000/svg"
            fill="none"
            viewBox="0 0 24 24"
            stroke="currentColor"
            [class.rotated]="expandedSections.engine"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M9 5l7 7-7 7"
            />
          </svg>
        </div>
        <div class="filter-options" *ngIf="expandedSections.engine">
          <div class="engine-buttons">
            <button
              *ngFor="let engine of engineOptions"
              class="engine-btn"
              [class.active]="filters.engine === engine"
              (click)="selectEngine(engine)"
            >
              Motor {{ engine }}
            </button>
          </div>
        </div>
      </div>

      <div class="filter-section">
        <div class="filter-section-header" (click)="toggleSection('size')">
          <h3>Quantidade de lugares</h3>
          <svg
            xmlns="http://www.w3.org/2000/svg"
            fill="none"
            viewBox="0 0 24 24"
            stroke="currentColor"
            [class.rotated]="expandedSections.size"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M9 5l7 7-7 7"
            />
          </svg>
        </div>
        <div class="filter-options" *ngIf="expandedSections.size">
          <div class="size-buttons">
            <button
              *ngFor="let size of sizeOptions"
              class="size-btn"
              [class.active]="filters.size === size"
              (click)="selectsizes(size)"
            >
              {{ size < 10 ? '0' + size : size }}
            </button>
          </div>
        </div>
      </div>
    </div>

    <button class="apply-filter-btn" (click)="onApply()">
      Aplicar Filtros
    </button>
  </div>
</div>
